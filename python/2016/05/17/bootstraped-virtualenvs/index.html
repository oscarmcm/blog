<!DOCTYPE html><html amp lang="en" class="no-js"><head><meta charset="utf-8"><title>Bootstraped VirtualEnvs | The oscarmcm Blag!</title><meta name="description" content="Las aplicaciones en Python usualmente hacen uso de paquetes y módulos que no forman parte de la librería estándar y a su vez estas hacen uso de versiones muy..."><meta name="viewport" content="width=device-width, initial-scale=1"><meta http-equiv="X-Frame-Options" content="sameorigin"><!--Favicon--><link rel="shortcut icon" href="/blog/favicon.ico" type="image/x-icon"><!-- Canonical --><link rel="canonical" href="http://oscarmcm.com/blog/python/2016/05/17/bootstraped-virtualenvs/"><!-- RSS --><link rel="alternate" type="application/atom+xml" title="The oscarmcm Blag!" href="http://oscarmcm.com/blog/feed.xml" /><!-- Google AMP --><style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript><script async src="https://cdn.ampproject.org/v0.js"></script><!-- CSS --><link rel="stylesheet" href="/blog/css/main.css"><!-- Font Awesome --><link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet"><!-- Google Fonts --><link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,700italic,400italic" rel="stylesheet" type="text/css"><!-- KaTeX --></head><body><header class="site-header"><div class="branding"><a href="/blog/"><amp-img class="avatar" src="/blog/img/avatar.png" alt="oscar-profile" height="40" width="40"></amp-img></a><h1 class="site-title"><a href="/blog/">The oscarmcm Blag!</a></h1></div><nav class="site-nav"><ul><li><a class="page-link" href="/blog/about/">About</a></li><!-- Social icons from Font Awesome, if enabled --><li><a href="http://oscarmcm.com/blog/feed.xml" title="Follow RSS feed"><i class="fa fa-fw fa-rss"></i></a></li><li><a href="mailto:hi@oscarmcm.com" title="Email"><i class="fa fa-fw fa-envelope"></i></a></li><li><a href="https://github.com/oscarmcm" title="Follow on GitHub"><i class="fa fa-fw fa-github"></i></a></li><li><a href="https://twitter.com/oscar_mcm" title="Follow on Twitter"><i class="fa fa-fw fa-twitter"></i></a></li></ul></nav></header><div class="content"><article ><header style="background-image: url('/blog/')"><h1 class="title">Bootstraped VirtualEnvs</h1><p class="meta">May 17, 2016</p></header><section class="post-content"><p>Las aplicaciones en Python usualmente hacen uso de paquetes y módulos que no forman parte de la librería estándar y a su vez estas hacen uso de versiones muy especificas de cada librería. Una instalación común de python, quizás no de abasto para que pueda cumplir con los requerimientos de las aplicaciones que tengas en tu sistema de desarrollo.</p><h4 id="primero-que-son-los-entornos-virtuales">Primero, ¿Que son los entornos virtuales?</h4><p>Un ejemplo muy basico:</p><p><em>Si la aplicación A necesita la versión 1.0 de un módulo particular y la aplicación B necesita la versión 2.0, entonces los requerimientos entran en conflicto e instalar la versión 1.0 o 2.0 dejará una de las aplicaciones sin funcionar.</em></p><p>Para evitar todo este problema, existen los entornos virtuales (comunmente abreviado como “virtualenv”) que no es nada mas que un directorio que contiene una instalación de Python de una versión en particular, además de unos cuantos paquetes adicionales y donde adicionalmente estarán alojadas las librerias que necesitemos usar para nuestro proyecto.</p><h4 id="segundo-y-que-es-virtualenvwrapper">Segundo, ¿Y que es virtualenvwrapper?</h4><p><strong>virtualenv</strong> es un poco deficiente, sin embargo, con <strong>virtualenvwrapper</strong> podemos gestionar los entornos virtuales y de recordar dónde se encuentra la dirección de activación de cada uno. <strong>virtualenvwrapper</strong> es un conjunto bien pensado de funciónes Shell para <strong>virtualenv</strong> que hacen la vida y usarlo mucho mejor.</p><h4 id="y-ahora-manos-a-la-obra">Y ahora, manos a la obra</h4><p><strong>virtualenvwrapper</strong> contiene una suite de scripts (Hooks), que podemos modificar según nuestras necesidades, ahorita usaremos dos que son muy útiles:</p><h5 id="postmkvirtualenv">postmkvirtualenv</h5><p>Se activa despues de cualquier invocación de <strong>mkvirtualenv</strong> así que vamos a hacer que cuando intentemos crear un nuevo entorno virtual cree un nuevo directorio llamado igual que el nombre del entorno si este no existe o si no que simplemente acceda a este.</p><div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">parent</span><span class="o">=</span><span class="s2">&quot;$PWD&quot;</span>
<span class="nv">envname</span><span class="o">=</span><span class="s2">&quot;$(basename $VIRTUAL_ENV)&quot;</span>
<span class="nv">envdir</span><span class="o">=</span><span class="s2">&quot;$parent/$envname&quot;</span>
<span class="k">if</span> <span class="o">[</span> ! -e <span class="nv">$envdir</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
mkdir -p <span class="nv">$envdir</span>
<span class="k">fi</span>
<span class="nb">cd</span> <span class="nv">$envdir</span></code></pre></div><h5 id="postactivate">postactivate</h5><p>Su activación se da cada vez que utilizamos <strong>workon</strong> o bien necesitamos activar nuestro entorno virtual, lo que vamos a hacer es que cada vez que intentemos activar un entorno nos lleve directamente a la carpeta que lo contiene.</p><div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">postactivate</span><span class="o">=</span><span class="nv">$VIRTUAL_ENV</span>/bin/postactivate
<span class="nb">echo</span> <span class="s2">&quot;cd $envdir&quot;</span> &gt;&gt; <span class="nv">$postactivate</span></code></pre></div><h4 id="para-finalizar">Para finalizar</h4><p>Ahora ya no tenemos que preocuparnos por donde esta cada proyecto, solo necesitamos saber como se llama el entorno ( usualmente igual que el proyecto ) y escribir <em>workon env_name</em> y así de fácil estaremos en el lugar correcto. Si te olvidas del nombre de tu entorno recuerda que puedes usar <em>lsvirtualenv</em> para ayudarte a recordar.</p></section></article><!-- Post navigation --><div id="post-nav"><a id="prev-post" href="/blog/default/2016/02/29/kronoscode-year-3/"><span class="page-title">Kronoscode Year #3</span><span class="nav-label"><i class="fa fa-chevron-left"></i> Prev</span></a></div><!-- Disqus --><div class="comments"><div id="disqus_thread"></div><script type="text/javascript">var disqus_shortname = 'oscarmcmblog';(function() {var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div></div><footer class="site-footer"><p class="heart">♥</p></footer><!-- Google Analytics --><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-74474511-1', 'auto');ga('send', 'pageview');</script></body></html>